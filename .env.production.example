# ============================================================================
# Johnson Bros Plumbing - Production Environment Template
# Copy this file to .env.production and fill in all values
# NEVER commit the actual .env.production file to version control
# ============================================================================

# ============================================================================
# CRITICAL - Required for Application Startup
# ============================================================================

# Environment mode
NODE_ENV=production

# Server port (usually 5000 for internal, proxied through nginx)
PORT=5000

# PostgreSQL connection string (from Neon or your database provider)
# Generate secure password: openssl rand -base64 32
DATABASE_URL=postgresql://user:password@host:5432/johnsonbros?sslmode=require

# Session encryption key (minimum 32 characters)
# Generate with: openssl rand -hex 32
SESSION_SECRET=your-64-character-secure-random-string-generate-with-openssl

# ============================================================================
# REQUIRED - Core Features (app will not function properly without these)
# ============================================================================

# HousecallPro API key for job management
# Get from: HousecallPro Dashboard > Settings > Integrations > API
HOUSECALL_PRO_API_KEY=Bearer your_api_key_here

# Google Maps API key for geocoding and map display
# Get from: https://console.cloud.google.com/google/maps-apis
# Must have Geocoding API and Maps JavaScript API enabled
GOOGLE_MAPS_API_KEY=AIza_your_google_maps_api_key

# Twilio credentials for SMS notifications
# Get from: https://console.twilio.com/
TWILIO_ACCOUNT_SID=AC_your_account_sid
TWILIO_AUTH_TOKEN=your_auth_token_minimum_20_chars
TWILIO_PHONE_NUMBER=+1234567890

# OpenAI API key for AI chat features
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key

# ============================================================================
# SITE CONFIGURATION
# ============================================================================

# Production site URL (for canonical URLs, sitemap, etc.)
SITE_URL=https://johnsonbrosplumbing.com

# Company timezone
COMPANY_TZ=America/New_York

# CORS origins (comma-separated)
CORS_ORIGIN=https://johnsonbrosplumbing.com,https://www.johnsonbrosplumbing.com

# ============================================================================
# ERROR TRACKING & MONITORING (Recommended for Production)
# ============================================================================

# Sentry error tracking
# Get from: https://sentry.io/settings/projects/YOUR_PROJECT/keys/
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
VITE_SENTRY_DSN=https://your-frontend-sentry-dsn@sentry.io/project-id

# Application version (for error tracking and deployment info)
APP_VERSION=1.0.0

# Log level (debug, info, warn, error)
LOG_LEVEL=info

# ============================================================================
# ADMIN CONFIGURATION
# ============================================================================

# Initial super admin account
# IMPORTANT: Change these from defaults!
SUPER_ADMIN_EMAIL=admin@thejohnsonbros.com
SUPER_ADMIN_PASSWORD=change_this_to_a_secure_password
SUPER_ADMIN_NAME=Admin User

# ============================================================================
# SECURITY
# ============================================================================

# Webhook signature verification
# Generate with: openssl rand -hex 32
HOUSECALL_WEBHOOK_SECRET=your-webhook-signature-secret

# Internal API secret for server-to-server calls
# Generate with: openssl rand -hex 32
INTERNAL_SECRET=your-internal-api-secret-minimum-32-chars

# Session settings
SECURE_COOKIES=true
SESSION_DURATION=86400000

# ============================================================================
# OPTIONAL - Enhanced Features
# ============================================================================

# Google Ads automation (if using)
# GOOGLE_ADS_CLIENT_ID=
# GOOGLE_ADS_CLIENT_SECRET=
# GOOGLE_ADS_DEVELOPER_TOKEN=
# GOOGLE_ADS_CUSTOMER_ID=
# GOOGLE_ADS_REFRESH_TOKEN=

# Google Analytics (if using)
# GA4_PROPERTY_ID=

# Google Service Account (for advanced integrations)
# GOOGLE_SERVICE_ACCOUNT_EMAIL=

# Frontend Google Maps key (can be same as server key)
VITE_GOOGLE_MAPS_API_KEY=AIza_your_google_maps_api_key

# MCP Server port (if running separately)
# MCP_PORT=3001

# HousecallPro additional config
# HOUSECALL_COMPANY_ID=com_abc123
# DEFAULT_DISPATCH_EMPLOYEE_IDS=emp_123,emp_456

# ============================================================================
# NOTES
# ============================================================================
#
# 1. SECURITY: Generate all secrets with proper randomness:
#    - openssl rand -hex 32 (for secrets/tokens)
#    - openssl rand -base64 32 (for passwords)
#
# 2. DATABASE: Ensure your database URL includes ?sslmode=require for Neon
#
# 3. API KEYS: Never share or expose these keys publicly
#
# 4. BACKUPS: Keep a secure backup of this file outside version control
#
# 5. ROTATION: Rotate secrets periodically (at least every 90 days)
#
# 6. VALIDATION: The app validates these on startup. Missing CRITICAL
#    variables will prevent startup in production.
#
# ============================================================================
