
> rest-express@1.0.0 check
> tsc

client/src/components/WhyChooseUs.tsx(163,36): error TS2339: Property 'count' does not exist on type '{}'.
client/src/pages/admin/experiments.tsx(249,26): error TS2339: Property 'recommendations' does not exist on type 'Response'.
client/src/pages/admin/experiments.tsx(249,84): error TS2339: Property 'recommendations' does not exist on type 'Response'.
client/src/pages/admin/experiments.tsx(254,38): error TS2339: Property 'recommendations' does not exist on type 'Response'.
client/src/pages/admin/experiments.tsx(254,93): error TS2339: Property 'recommendations' does not exist on type 'Response'.
client/src/pages/admin/experiments.tsx(304,33): error TS2339: Property 'filter' does not exist on type '{}'.
client/src/pages/admin/experiments.tsx(318,33): error TS2339: Property 'reduce' does not exist on type '{}'.
client/src/pages/admin/experiments.tsx(332,33): error TS2339: Property 'length' does not exist on type '{}'.
client/src/pages/admin/experiments.tsx(333,24): error TS18046: 'experiments' is of type 'unknown'.
client/src/pages/admin/experiments.tsx(333,107): error TS18046: 'experiments' is of type 'unknown'.
client/src/pages/admin/experiments.tsx(348,33): error TS2339: Property 'filter' does not exist on type '{}'.
client/src/pages/admin/experiments.tsx(371,34): error TS2339: Property 'length' does not exist on type '{}'.
client/src/pages/admin/experiments.tsx(380,32): error TS2339: Property 'map' does not exist on type '{}'.
client/src/pages/admin/experiments.tsx(577,45): error TS2339: Property 'stages' does not exist on type 'Response'.
client/src/pages/admin/experiments.tsx(583,34): error TS2339: Property 'stages' does not exist on type 'Response'.
client/src/pages/admin/experiments.tsx(591,30): error TS2339: Property 'stages' does not exist on type 'Response'.
client/src/pages/admin/experiments.tsx(609,72): error TS2339: Property 'totalConversion' does not exist on type 'Response'.
client/src/pages/admin/experiments.tsx(626,43): error TS2339: Property 'length' does not exist on type 'Response'.
client/src/pages/admin/experiments.tsx(631,25): error TS2740: Type 'Response' is missing the following properties from type 'any[]': length, pop, push, concat, and 35 more.
client/src/pages/admin/experiments.tsx(640,38): error TS2339: Property 'map' does not exist on type 'Response'.
client/src/pages/admin/experiments.tsx(649,34): error TS2339: Property 'map' does not exist on type 'Response'.
client/src/pages/admin/experiments.tsx(681,53): error TS2339: Property 'length' does not exist on type 'Response'.
client/src/pages/admin/experiments.tsx(683,37): error TS2339: Property 'map' does not exist on type 'Response'.
client/src/pages/admin/experiments.tsx(730,67): error TS2339: Property 'length' does not exist on type '{}'.
client/src/pages/admin/experiments.tsx(744,33): error TS2339: Property 'length' does not exist on type '{}'.
client/src/pages/admin/experiments.tsx(745,23): error TS18046: 'experiments' is of type 'unknown'.
client/src/pages/admin/experiments.tsx(747,65): error TS7006: Parameter '_' implicitly has an 'any' type.
client/src/pages/admin/experiments.tsx(747,68): error TS7006: Parameter 'arr' implicitly has an 'any' type.
client/src/pages/admin/experiments.tsx(765,33): error TS2339: Property 'filter' does not exist on type '{}'.
client/src/pages/admin/experiments.tsx(782,34): error TS2339: Property 'reduce' does not exist on type '{}'.
client/src/pages/admin/experiments.tsx(802,15): error TS2322: Type 'unknown' is not assignable to type 'ReactNode'.
client/src/pages/admin/experiments.tsx(802,43): error TS2339: Property 'length' does not exist on type '{}'.
client/src/pages/admin/experiments.tsx(804,48): error TS2339: Property 'map' does not exist on type '{}'.
client/src/pages/admin/heatmap.tsx(37,60): error TS2345: Argument of type '{ method: string; body: string; }' is not assignable to parameter of type 'string'.
client/src/pages/admin/heatmap.tsx(65,62): error TS2345: Argument of type '{ method: string; body: string; }' is not assignable to parameter of type 'string'.
client/src/pages/admin/heatmap.tsx(88,72): error TS2345: Argument of type '{ method: string; }' is not assignable to parameter of type 'string'.
client/src/pages/admin/widgets/CapacityGauge.tsx(17,27): error TS2339: Property 'overall' does not exist on type '{}'.
client/src/pages/admin/widgets/CapacityGauge.tsx(18,27): error TS2339: Property 'overall' does not exist on type '{}'.
client/src/pages/admin/widgets/RecentJobs.tsx(18,34): error TS2339: Property 'slice' does not exist on type '{}'.
server/lib/sharedThread.ts(34,54): error TS2345: Argument of type 'string' is not assignable to parameter of type 'CountryCode | { defaultCountry?: CountryCode | undefined; defaultCallingCode?: string | undefined; extract?: boolean | undefined; } | undefined'.
server/src/abTestingRoutes.ts(304,33): error TS2339: Property 'ab_test_metrics' does not exist on type '{ id: number; testId: string; variantId: string; impressions: number; conversions: number; conversionRate: number; bounceRate: number; avgTimeOnPage: number | null; revenue: number; statisticalSignificance: number | null; updatedAt: Date; }'.
server/src/adminRoutes.ts(235,11): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "session_token"; tableName: "admin_sessions"; dataType: "string"; columnType: "PgText"; data: string; driverParam: string; notNull: true; hasDefault: false; isPrimaryKey: false; ... 5 more ...; generated: undefined; }, {}, {}>, right: string | SQLWrapper): SQL<...>', gave the following error.
    Argument of type 'string | undefined' is not assignable to parameter of type 'string | SQLWrapper'.
      Type 'undefined' is not assignable to type 'string | SQLWrapper'.
  Overload 2 of 3, '(left: Aliased<string | undefined>, right: string | SQLWrapper | undefined): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "session_token"; tableName: "admin_sessions"; dataType: "string"; columnType: "PgText"; data: string; driverParam: string; notNull: true; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string | undefined>'.
      Type 'PgColumn<{ name: "session_token"; tableName: "admin_sessions"; dataType: "string"; columnType: "PgText"; data: string; driverParam: string; notNull: true; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string | undefined>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "session_token"; tableName: "admin_sessions"; dataType: "string"; columnType: "PgText"; data: string; driverParam: string; notNull: true; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/src/conversionRoutes.ts(127,10): error TS2339: Property 'where' does not exist on type 'Omit<PgSelectBase<"conversion_events", { stage: PgColumn<{ name: "properties"; tableName: "conversion_events"; dataType: "json"; columnType: "PgJson"; data: unknown; driverParam: unknown; notNull: false; hasDefault: false; isPrimaryKey: false; ... 5 more ...; generated: undefined; }, {}, {}>; count: SQL<...>; avgTim...'.
server/src/conversionRoutes.ts(141,23): error TS2339: Property 'stage' does not exist on type '{}'.
server/src/conversionRoutes.ts(242,11): error TS7034: Variable 'recommendations' implicitly has type 'any[]' in some locations where its type cannot be determined.
server/src/conversionRoutes.ts(366,16): error TS7005: Variable 'recommendations' implicitly has an 'any[]' type.
server/src/experimentManagement.ts(139,7): error TS2741: Property 'where' is missing in type 'Omit<import("C:/Users/Workstation/Desktop/Replit/thejohnsonbros/project/node_modules/drizzle-orm/pg-core/query-builders/select").PgSelectBase<"ab_tests", { test: import("C:/Users/Workstation/Desktop/Replit/thejohnsonbros/project/node_modules/drizzle-orm/pg-core/table").PgTableWithColumns<{ name: "ab_tests"; schema: ...' but required in type 'Omit<import("C:/Users/Workstation/Desktop/Replit/thejohnsonbros/project/node_modules/drizzle-orm/pg-core/query-builders/select").PgSelectBase<"ab_tests", { test: import("C:/Users/Workstation/Desktop/Replit/thejohnsonbros/project/node_modules/drizzle-orm/pg-core/table").PgTableWithColumns<{ name: "ab_tests"; schema: ...'.
server/src/experimentManagement.ts(143,7): error TS2741: Property 'where' is missing in type 'Omit<import("C:/Users/Workstation/Desktop/Replit/thejohnsonbros/project/node_modules/drizzle-orm/pg-core/query-builders/select").PgSelectBase<"ab_tests", { test: import("C:/Users/Workstation/Desktop/Replit/thejohnsonbros/project/node_modules/drizzle-orm/pg-core/table").PgTableWithColumns<{ name: "ab_tests"; schema: ...' but required in type 'Omit<import("C:/Users/Workstation/Desktop/Replit/thejohnsonbros/project/node_modules/drizzle-orm/pg-core/query-builders/select").PgSelectBase<"ab_tests", { test: import("C:/Users/Workstation/Desktop/Replit/thejohnsonbros/project/node_modules/drizzle-orm/pg-core/table").PgTableWithColumns<{ name: "ab_tests"; schema: ...'.
server/src/experimentManagement.ts(147,7): error TS2741: Property 'where' is missing in type 'Omit<import("C:/Users/Workstation/Desktop/Replit/thejohnsonbros/project/node_modules/drizzle-orm/pg-core/query-builders/select").PgSelectBase<"ab_tests", { test: import("C:/Users/Workstation/Desktop/Replit/thejohnsonbros/project/node_modules/drizzle-orm/pg-core/table").PgTableWithColumns<{ name: "ab_tests"; schema: ...' but required in type 'Omit<import("C:/Users/Workstation/Desktop/Replit/thejohnsonbros/project/node_modules/drizzle-orm/pg-core/query-builders/select").PgSelectBase<"ab_tests", { test: import("C:/Users/Workstation/Desktop/Replit/thejohnsonbros/project/node_modules/drizzle-orm/pg-core/table").PgTableWithColumns<{ name: "ab_tests"; schema: ...'.
server/src/experimentManagement.ts(347,5): error TS2322: Type 'any[]' is not assignable to type 'never[]'.
  Type 'any' is not assignable to type 'never'.
server/src/experimentManagement.ts(354,22): error TS2339: Property 'isControl' does not exist on type 'never'.
server/src/experimentManagement.ts(355,50): error TS2339: Property 'metrics' does not exist on type 'never'.
server/src/experimentManagement.ts(355,67): error TS2339: Property 'metrics' does not exist on type 'never'.
server/src/experimentManagement.ts(356,19): error TS2339: Property 'confidence' does not exist on type 'never'.
server/src/experimentManagement.ts(358,23): error TS2339: Property 'metrics' does not exist on type 'never'.
server/src/experimentManagement.ts(359,21): error TS2339: Property 'lift' does not exist on type 'never'.
server/src/experimentManagement.ts(359,38): error TS2339: Property 'metrics' does not exist on type 'never'.
server/src/experimentManagement.ts(359,71): error TS2339: Property 'metrics' does not exist on type 'never'.
server/src/experimentManagement.ts(359,105): error TS2339: Property 'metrics' does not exist on type 'never'.
server/src/experimentManagement.ts(363,19): error TS2339: Property 'requiredSampleSize' does not exist on type 'never'.
server/src/experimentManagement.ts(364,21): error TS2339: Property 'metrics' does not exist on type 'never'.
server/src/heatmap.ts(158,61): error TS2345: Argument of type 'unknown' is not assignable to parameter of type 'LogContext | undefined'.
server/src/heatmap.ts(179,59): error TS2345: Argument of type 'unknown' is not assignable to parameter of type 'LogContext | undefined'.
server/src/heatmap.ts(252,66): error TS2345: Argument of type 'unknown' is not assignable to parameter of type 'LogContext | undefined'.
server/src/heatmap.ts(348,56): error TS2345: Argument of type 'unknown' is not assignable to parameter of type 'LogContext | undefined'.
server/src/housecall.ts(315,9): error TS2393: Duplicate function implementation.
server/src/housecall.ts(579,9): error TS2393: Duplicate function implementation.
server/src/webhooks.ts(54,29): error TS7053: Element implicitly has an 'any' type because expression of type 'string' can't be used to index type '{ 'customer.created': string; 'customer.updated': string; 'customer.deleted': string; 'job.created': string; 'job.scheduled': string; 'job.started': string; 'job.completed': string; 'job.cancelled': string; ... 16 more ...; 'lead.lost': string; }'.
  No index signature with a parameter of type 'string' was found on type '{ 'customer.created': string; 'customer.updated': string; 'customer.deleted': string; 'job.created': string; 'job.scheduled': string; 'job.started': string; 'job.completed': string; 'job.cancelled': string; ... 16 more ...; 'lead.lost': string; }'.
server/src/webhooks.ts(88,22): error TS7053: Element implicitly has an 'any' type because expression of type 'string' can't be used to index type '{ 'customer.created': string; 'customer.updated': string; 'customer.deleted': string; 'job.created': string; 'job.scheduled': string; 'job.started': string; 'job.completed': string; 'job.cancelled': string; ... 16 more ...; 'lead.lost': string; }'.
  No index signature with a parameter of type 'string' was found on type '{ 'customer.created': string; 'customer.updated': string; 'customer.deleted': string; 'job.created': string; 'job.scheduled': string; 'job.started': string; 'job.completed': string; 'job.cancelled': string; ... 16 more ...; 'lead.lost': string; }'.
server/src/webhooks.ts(115,52): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { dataType: string | SQL<unknown> | Placeholder<string, any>; eventId: number | SQL<unknown> | Placeholder<string, any>; entityData: string | SQL<unknown> | Placeholder<...>; ... 19 more ...; isNewCustomer?: boolean | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Argument of type '{ dataType?: string | undefined; eventId: number; entityData?: string | undefined; serviceType?: string | null | undefined; notes?: string | null | undefined; dataCategory?: string | null | undefined; ... 14 more ...; isNewCustomer?: boolean | ... 1 more ... | undefined; }' is not assignable to parameter of type '{ dataType: string | SQL<unknown> | Placeholder<string, any>; eventId: number | SQL<unknown> | Placeholder<string, any>; entityData: string | SQL<unknown> | Placeholder<...>; ... 19 more ...; isNewCustomer?: boolean | ... 3 more ... | undefined; }'.
      Types of property 'dataType' are incompatible.
        Type 'string | undefined' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any>'.
          Type 'undefined' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any>'.
  Overload 2 of 2, '(values: { dataType: string | SQL<unknown> | Placeholder<string, any>; eventId: number | SQL<unknown> | Placeholder<string, any>; entityData: string | SQL<unknown> | Placeholder<...>; ... 19 more ...; isNewCustomer?: boolean | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Argument of type '{ dataType?: string | undefined; eventId: number; entityData?: string | undefined; serviceType?: string | null | undefined; notes?: string | null | undefined; dataCategory?: string | null | undefined; ... 14 more ...; isNewCustomer?: boolean | ... 1 more ... | undefined; }' is not assignable to parameter of type '{ dataType: string | SQL<unknown> | Placeholder<string, any>; eventId: number | SQL<unknown> | Placeholder<string, any>; entityData: string | SQL<unknown> | Placeholder<...>; ... 19 more ...; isNewCustomer?: boolean | ... 3 more ... | undefined; }[]'.
      Type '{ dataType?: string | undefined; eventId: number; entityData?: string | undefined; serviceType?: string | null | undefined; notes?: string | null | undefined; dataCategory?: string | null | undefined; ... 14 more ...; isNewCustomer?: boolean | ... 1 more ... | undefined; }' is missing the following properties from type '{ dataType: string | SQL<unknown> | Placeholder<string, any>; eventId: number | SQL<unknown> | Placeholder<string, any>; entityData: string | SQL<unknown> | Placeholder<...>; ... 19 more ...; isNewCustomer?: boolean | ... 3 more ... | undefined; }[]': length, pop, push, concat, and 35 more.
server/src/webhooks.ts(124,11): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { eventId: number | SQL<unknown> | Placeholder<string, any>; tagName: string | SQL<unknown> | Placeholder<string, any>; id?: number | SQL<unknown> | Placeholder<...> | undefined; createdAt?: SQL<...> | ... 2 more ... | undefined; tagValue?: string | ... 3 more ... | undefined; tagCategory?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Argument of type '{ eventId: number; tagName?: string | undefined; tagValue?: string | null | undefined; tagCategory?: string | null | undefined; }[]' is not assignable to parameter of type '{ eventId: number | SQL<unknown> | Placeholder<string, any>; tagName: string | SQL<unknown> | Placeholder<string, any>; id?: number | SQL<unknown> | Placeholder<string, any> | undefined; createdAt?: SQL<...> | ... 2 more ... | undefined; tagValue?: string | ... 3 more ... | undefined; tagCategory?: string | ... 3 mo...'.
      Type '{ eventId: number; tagName?: string | undefined; tagValue?: string | null | undefined; tagCategory?: string | null | undefined; }[]' is missing the following properties from type '{ eventId: number | SQL<unknown> | Placeholder<string, any>; tagName: string | SQL<unknown> | Placeholder<string, any>; id?: number | SQL<unknown> | Placeholder<string, any> | undefined; createdAt?: SQL<...> | ... 2 more ... | undefined; tagValue?: string | ... 3 more ... | undefined; tagCategory?: string | ... 3 mo...': eventId, tagName
  Overload 2 of 2, '(values: { eventId: number | SQL<unknown> | Placeholder<string, any>; tagName: string | SQL<unknown> | Placeholder<string, any>; id?: number | SQL<unknown> | Placeholder<...> | undefined; createdAt?: SQL<...> | ... 2 more ... | undefined; tagValue?: string | ... 3 more ... | undefined; tagCategory?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Argument of type '{ eventId: number; tagName?: string | undefined; tagValue?: string | null | undefined; tagCategory?: string | null | undefined; }[]' is not assignable to parameter of type '{ eventId: number | SQL<unknown> | Placeholder<string, any>; tagName: string | SQL<unknown> | Placeholder<string, any>; id?: number | SQL<unknown> | Placeholder<string, any> | undefined; createdAt?: SQL<...> | ... 2 more ... | undefined; tagValue?: string | ... 3 more ... | undefined; tagCategory?: string | ... 3 mo...'.
      Type '{ eventId: number; tagName?: string | undefined; tagValue?: string | null | undefined; tagCategory?: string | null | undefined; }' is not assignable to type '{ eventId: number | SQL<unknown> | Placeholder<string, any>; tagName: string | SQL<unknown> | Placeholder<string, any>; id?: number | SQL<unknown> | Placeholder<string, any> | undefined; createdAt?: SQL<...> | ... 2 more ... | undefined; tagValue?: string | ... 3 more ... | undefined; tagCategory?: string | ... 3 mo...'.
        Types of property 'tagName' are incompatible.
          Type 'string | undefined' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any>'.
            Type 'undefined' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any>'.
server/src/webhooks.ts(164,22): error TS7053: Element implicitly has an 'any' type because expression of type 'string' can't be used to index type '{ 'customer.created': string; 'customer.updated': string; 'customer.deleted': string; 'job.created': string; 'job.scheduled': string; 'job.started': string; 'job.completed': string; 'job.cancelled': string; ... 16 more ...; 'lead.lost': string; }'.
  No index signature with a parameter of type 'string' was found on type '{ 'customer.created': string; 'customer.updated': string; 'customer.deleted': string; 'job.created': string; 'job.scheduled': string; 'job.started': string; 'job.completed': string; 'job.cancelled': string; ... 16 more ...; 'lead.lost': string; }'.
server/src/webhooks.ts(333,22): error TS7053: Element implicitly has an 'any' type because expression of type 'string' can't be used to index type '{ 'customer.created': string; 'customer.updated': string; 'customer.deleted': string; 'job.created': string; 'job.scheduled': string; 'job.started': string; 'job.completed': string; 'job.cancelled': string; ... 16 more ...; 'lead.lost': string; }'.
  No index signature with a parameter of type 'string' was found on type '{ 'customer.created': string; 'customer.updated': string; 'customer.deleted': string; 'job.created': string; 'job.scheduled': string; 'job.started': string; 'job.completed': string; 'job.cancelled': string; ... 16 more ...; 'lead.lost': string; }'.
server/src/webhooks.ts(347,7): error TS2322: Type 'SQL<unknown>' is not assignable to type 'number'.
server/src/webhooks.ts(348,7): error TS2322: Type 'SQL<unknown>' is not assignable to type 'number'.
server/src/webhooks.ts(353,7): error TS2322: Type 'SQL<unknown>' is not assignable to type 'number'.
server/src/webhooks.ts(356,7): error TS2322: Type 'SQL<unknown>' is not assignable to type 'number'.
server/src/webhooks.ts(358,9): error TS2322: Type 'SQL<unknown>' is not assignable to type 'number'.
server/src/webhooks.ts(362,7): error TS2322: Type 'SQL<unknown>' is not assignable to type 'number'.
server/src/webhooks.ts(365,7): error TS2322: Type 'SQL<unknown>' is not assignable to type 'number'.
